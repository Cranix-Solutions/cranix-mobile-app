<button (click)="openModal()" style="min-height: 40px; background-color: #e6e6e6; margin: 2px; padding: 2px; min-width: 100px;">
    @if(!selection || selection.length == 0){
    {{emptyLabel|translate}}
    }@else{
    @if(multiple){
    {{selection.length}} {{selectedLabel|translate}}
    }@else{
    @for(field of itemTextField; track field){ {{selection[field]}} &nbsp; }
    }
    }
    <ion-icon slot="end" name="caret-down"></ion-icon>
</button>
<ion-modal [isOpen]="isCranixSearchModalOpen" #cranixSearchModal [backdropDismiss]="false">
    <ng-template>
        <ion-header>
            <ion-toolbar color="primary">
                <ion-title>
                    {{'Search for'|translate}} {{objectType|translate}}
                </ion-title>
                <ion-buttons slot="end">
                    @if(multiple){
                    <ion-button class="ion-no-margin" (click)="returnValues(cranixSearchModal)">
                        <ion-icon slot="icon-only" color="success" name="checkmark-sharp"></ion-icon>
                    </ion-button>
                    }
                    <ion-button class="ion-no-margin" (click)="clearSelection(cranixSearchModal)"
                        matTooltip="{{'Clear selection' | translate }}">
                        <ion-icon slot="icon-only" color="warning" name="trash"></ion-icon>
                    </ion-button>
                    <ion-button class="ion-no-margin" (click)="breakModal(cranixSearchModal)">
                        <ion-icon slot="icon-only" color="danger" name="close"></ion-icon>
                    </ion-button>
                </ion-buttons>
            </ion-toolbar>
            <ion-item>
                <ion-searchbar placeholder="{{'search' | translate }}" (input)="onQuickFilterChanged()"
                    [id]="crxSearchFilter"></ion-searchbar>
            </ion-item>
        </ion-header>
        <ion-content>
            @if(multiple){
            <ul class="checklist">
                @for(o of rowData; let i=$index; track i;){
                <li>
                    <input type="checkbox" (click)="doSelect(o)" [id]="o.id" [checked]="isSelected(o.id)">
                    <label [for]="o.id">
                        @for(field of itemTextField; track field){ {{o[field]}} &nbsp; }
                    </label>
                </li>
                }
            </ul>
            }@else{
                @for(o of rowData; let i=$index; track i;){
                <div style="padding: 5px 0px 3px 10px;">
                    <input type="radio" (click)="select(o,cranixSearchModal)" [id]="o.id" name="cranixSearchList"
                        [checked]="selection && o.id == selection.id">
                    <label style="border-bottom: 1px solid; display: inline-block; width: 95%; padding-left: 5px;" [for]="o.id">
                        @for(field of itemTextField; track field){ {{o[field]}} &nbsp; }
                    </label>
                </div>
                }
            }
        </ion-content>
    </ng-template>
</ion-modal>