<ion-header translucent>
  <ion-toolbar color="primary">
    <ion-title>
      {{ 'Answer:' | translate }} {{ticket.title}}<br>
      {{article.created | date:'yy-MM-dd HH:mm'}} {{article.title}}
    </ion-title>
    <ion-buttons slot="end">
      <ion-button id="add-attachment">
        @if(article.attachmentName){
          {{'Attachement'|translate}}:<br> {{article.attachmentName}}
        }@else{
        <ion-icon slot="icon-only" name="attach"></ion-icon>
        }
      </ion-button>
      <ion-button class="ion-no-margin" fill="clear" size="small" (click)="sendArticle()" [disabled]="disabled">
        <ion-icon slot="icon-only" color="success" name="checkmark-sharp"></ion-icon>
      </ion-button>
      <ion-button fill="clear" size="small" (click)="modalController.dismiss()" [disabled]="disabled">
        <ion-icon slot="icon-only" color="danger" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-item>
    <ion-input [labelPlacement]="authService.settings.labelPlacement" label="{{'Send to:'}}" [(ngModel)]="article.recipient" type="email" [multiple]="true"></ion-input>
  </ion-item>
  <quill-editor [(ngModel)]="newText" name="description" style="margin: 10px;"></quill-editor>
</ion-content>


<ion-popover #upload trigger="add-attachment">
  <ng-template>
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>{{'Add one Attachment'|translate}}</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="addAttachment(upload)">
            <ion-icon slot="icon-only" name="checkmark" color="success"></ion-icon>
          </ion-button>
          <ion-button fill="clear" size="small" (click)="clearAttachement(upload)">
            <ion-icon slot="icon-only" color="danger" name="close"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding" style="border: 2px;">
      <ion-item line="none">
        <ion-input type="file" (change)="onFilesAdded($event)">
        </ion-input>
      </ion-item>
    </ion-content>
  </ng-template>
</ion-popover>