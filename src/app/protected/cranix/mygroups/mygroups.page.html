<cranix-toolbar title="{{ 'My ' + segment +'s' | translate }}"></cranix-toolbar>
<ion-toolbar class="page-toolbar">
  <ion-segment (ionChange)="segmentChanged($event)" color="secondary" value="education/group">
    <ion-segment-button value="education/group" layout="icon-start">
      <ion-label class="hidden-xs hidden-sm">{{'Groups' | translate}}</ion-label>
      <ion-icon name="people-circle"></ion-icon>
    </ion-segment-button>
    <ion-segment-button value="education/user" layout="icon-start">
      <ion-label class="hidden-xs hidden-sm">{{'Students' | translate}}</ion-label>
      <ion-icon name="people"></ion-icon>
    </ion-segment-button>
    <ion-segment-button value="education/guestUser" layout="icon-start">
      <ion-label class="hidden-xs hidden-sm">{{'Guest Users' | translate}}</ion-label>
      <ion-icon name="walk"></ion-icon>
    </ion-segment-button>
  </ion-segment>
</ion-toolbar>
<ion-content>
  @if(authService.isMD()){
  <cranix-md-list [objectType]="segment" [rowData]="objectService.allObjects[segment]"
    [context]="context"></cranix-md-list>
  }@else{
  @switch(segment) {
  @case('education/user'){
  <cranix-list objectType="education/user" [context]="context"></cranix-list>
  }
  @case('education/group'){
  <cranix-list objectType="education/group" [context]="context"></cranix-list>
  }
  @case('education/guestUser'){
  <cranix-list objectType="education/guestUser" [context]="context"></cranix-list>
  }
  }
  }
</ion-content>
<ion-modal #showMember [isOpen]="isShowMemberOpen" (didDismiss)="isShowMemberOpen = false">
  <ng-template>
    <ion-toolbar color="primary">
      <ion-title>
        {{'Members of:'|translate}} {{selectedGroup.name}} {{selectedGroup.description}}
      </ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="showMember.dismiss()" fill="clear">
          <ion-icon slot="icon-only" name="close" color="danger"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
    <ion-content>
      <ion-list>
        @for(user of groupMembers; track user.id){
        <ion-item>
          <div style="display: flex; width: 100%;">
            <div class="divclass">
              {{user.role|translate}}
            </div>
            <div class="divclass">
              {{user.fullName}}
            </div>
          </div>
        </ion-item>
        }
      </ion-list>
    </ion-content>
  </ng-template>
</ion-modal>