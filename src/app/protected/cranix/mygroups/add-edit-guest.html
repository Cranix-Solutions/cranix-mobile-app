<form #addEditGuest="ngForm">
    <ion-header translucent>
        <ion-toolbar color="primary">
            <ion-title>{{ 'guest users ' + action | translate }}</ion-title>
            <ion-buttons slot="end">
                <ion-button class="ion-no-margin" (click)="onSubmit()" [disabled]="!addEditGuest.valid || disabled">
                    <ion-icon slot="icon-only" color="success" name="checkmark-sharp"></ion-icon>
                </ion-button>
                <ion-button fill="clear" size="small" (click)="modalCtrl.dismiss('closed')">
                    <ion-icon slot="icon-only" color="danger" name="close"></ion-icon>
                </ion-button>
            </ion-buttons>
        </ion-toolbar>
    </ion-header>
    <ion-content fullscreen *ngIf="guest">
        <ion-list [inset]="true">
	    <ion-list-header>
            {{ 'The name of the created users have the format groupnameNN' | translate }}
	    </ion-list-header>
            <ion-item>
                <ion-label [position]="authService.settings.labelPlacement">{{'name' | translate}}</ion-label>
                <ion-input [(ngModel)]="guest.name" name="name" pattern="\S+" required [disabled]="disabled"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label [position]="authService.settings.labelPlacement">{{'description' | translate}}</ion-label>
                <ion-input [(ngModel)]="guest.description" name="description" required [disabled]="disabled"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label [position]="authService.settings.labelPlacement">{{'Count of accounts' | translate}}</ion-label>
                <ion-input [(ngModel)]="guest.count" name="count" type="number" min=1 max=200 required [disabled]="disabled"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label [position]="authService.settings.labelPlacement">{{'password' | translate}}</ion-label>
                <ion-input [(ngModel)]="guest.password" name="password" required [disabled]="disabled"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label [position]="authService.settings.labelPlacement">{{'Valid until' | translate}}</ion-label>
                <input [(ngModel)]="guest.validUntil" name="validUntil" type="date" min="now" required [disabled]="disabled">
            </ion-item>
            <ion-item>
                <ion-label [position]="authService.settings.labelPlacement">{{'Private' | translate}}</ion-label>
                <ion-checkbox slot="end" [(ngModel)]="guest.privateGroup" name="privateGroup" [disabled]="disabled"></ion-checkbox>
            </ion-item>
            <ion-item>
                <ion-label [position]="authService.settings.labelPlacement">{{'Create AdHoc-Room' | translate}}</ion-label>
                <ion-checkbox slot="end" [(ngModel)]="guest.createAdHocRoom" name="createAdHocRoom" [disabled]="disabled"></ion-checkbox>
            </ion-item>
            <ion-item>
                <ion-label [position]="authService.settings.labelPlacement">{{'Room Control' | translate}}</ion-label>
                <ion-select [(ngModel)]="guest.roomControl" name="roomControl" [disabled]="!guest.createAdHocRoom" [disabled]="disabled">
                    <ion-select-option *ngFor="let ctrl of objectService.selects['roomControl']" value="ctrl">
                        {{ ctrl | translate }}</ion-select-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-label [position]="authService.settings.labelPlacement">{{'rooms' | translate}}</ion-label>
		<cranix-search objectType="room" [(ngModel)]="selectedRooms" [disabled]="guest.createAdHocRoom || disabled" [multiple]="true" name="rooms"></cranix-search>
            </ion-item>
        </ion-list>
    </ion-content>
</form>

